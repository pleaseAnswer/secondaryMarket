# 常识积累

* loading时，按钮点击失效设置
* 选项切换时，相关字段置空处理；字段隐藏时，对应值清空
* 唯一标识 在修改功能中不可修改
* 下拉弹框组件使用 限制输入款不可用（避免弹出输入款）
* 手机号输入 限制长度+长度验证
* 身份证输入 有效验证
  * !/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/i.test(idcard)
* 邮箱验证
  * /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/
* url解析

```js
var url = "http://127.0.0.1/e/action/ShowInfo.php?classid=9&id=2";//定义变量
function parse_url(_url){ //定义函数
  var pattern = /(\w+)=(\w+)/ig;//定义正则表达式
  var parames = {};//定义数组
  url.replace(pattern, function(a, b, c){parames[b] = c;});
  return parames;//返回这个数组.
}
var parames = parse_url(url);
alert(parames['classid'] + ", " + parames['id']);//最后打印.根据key值来打印数组对应的值
```

* 正则去重
  * str.replace(/(.)(\1)+/g,'$2')
* 数据增删改后 列表刷新
* 设置|修改密码，删除数据等危险操作 -- 二次确认提示
* 界面风格统一 字体大小统一

* 通过this.$route携带参数做查询条件回显
* 多情况匹配 -> 对象模式 object[key]
* 回显bug -> 利用 placeholder

## elementUI

* input在火狐浏览器的兼容问题--minlength限制导致红框出现
* 表单不显示时清空校验规则
* 使用v-if设置字段隐藏显示时不用外套标签，直接设置到元素本身，避免规则遗留
* elementUI组件 toggleSelection可实现复选框默认选中

    ```js
        toggleSelection(rows) {
            if (rows) {
                rows.forEach(row => {
                    if(row.hasAuth) {
                        this.$refs.multipleTable.toggleRowSelection(row);
                    }
                });
            } else {
                this.$refs.multipleTable.clearSelection();
            }
        },
        handleSelectionChange(val) {
            this.multipleSelection = val;
        },
    ```

* 加密 -> 前后端统一参数【密钥、加密模式、填充方式、偏移量】

## 小程序

* 小程序 超过2m -> 可将图片放在服务器上，不使用项目上图片
* 小程序可通过form表单获取input的内容，input的bindchange事件其实是失焦事件，使用bindinput可到达效果
* ios键盘挡住下拉滚动选择器：因为光标还停留在输入框使得picker在键盘没有回收的情况下弹出--控制点击弹出picker时，输入框readonly

## 微信公众号

* 通过识别MicroMessenger关键字确定是否微信内置浏览器
  * navigator.userAgent.toLowerCase().match(/MicroMessenger/i) == "micromessenger"
* jq--上传文件时，change事件只触发一次 --> 清空上传按钮的值
